# Vim 宏

## 1. 录制宏

按下 `q`，并后接任意字母开始录制宏。该字母为寄存器名称，也就是本次宏的名称。比如 `qa`。

开始录制后，底部信息栏会显示 `recording @a`，此时你可以做任意操作。

操作完毕后，在 `normal` 模式再按下 `q` 退出本次录制，并保存宏。

## 2. 播放宏

`@` 后接宏名称可以播放宏。以名称为 `a` 的宏为例，`3@a` 即为播放 3 次宏 `a`。

你也可以按下 `@@` 来重复播放上一次的宏。

## 3. 查看宏

宏保存在寄存器中，你可以输入命令 `registers` 来找到你录制过的宏。

## 4. 示例

以一个场景为例。你有以下文本，想将其转换为 markdown 中的任务列表，就可以使用宏。

```
事务1
事务2
事务3
事务4
事务5
```

首先移动到第一行的首部，按下 `qa` 开始录制宏，执行 `i- [ ] <ESC>j0`，然后按下 `q` 停止录制宏。然后按下 `4@a`，之后就会变成以下内容：

```
- [ ] 事务1
- [ ] 事务2
- [ ] 事务3
- [ ] 事务4
- [ ] 事务5
```

对上述每一步的解释如下：

- `qa`：开始录制宏，宏名为 `a`。
- `i- [ ] `：进入插入模式，并输入 `- [ ] `。
- `<ESC>j0`：退出插入模式，并移动到下一行行首。
- `q`：停止录制宏 `a`。
- `4@a`：播放四次宏 `a`。
